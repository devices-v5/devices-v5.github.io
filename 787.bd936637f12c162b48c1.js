"use strict";(self.webpackChunkdevices=self.webpackChunkdevices||[]).push([[787],{787:(J,l,o)=>{o.r(l),o.d(l,{DevicesModule:()=>N});var p=o(583),d=o(739),e=o(639);let u=(()=>{class n{static getDeviceIcon(t){switch(t){case"mobile":return this.MOBILE_ICON;case"laptop":return this.LAPTOP_ICON;case"tablet":return this.TABLET_ICON;case"desktop":return this.DESKTOP_ICON;case"tv":return this.TV_ICON;default:return this.MOBILE_ICON}}static getDeviceStatus(t){switch(t){case"available":return"Available";case"offline":return"Offline";default:return"Available"}}}return n.MOBILE_ICON="assets/icons/smartphone.svg",n.LAPTOP_ICON="assets/icons/laptop.svg",n.TABLET_ICON="assets/icons/tablet.svg",n.DESKTOP_ICON="assets/icons/desktop.svg",n.TV_ICON="assets/icons/tv.svg",n})();function f(n,i){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"img",10),e.qZA())}const _=function(n){return{available:n}};function C(n,i){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e._UZ(2,"img",3),e.qZA(),e.TgZ(3,"div",4),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.TgZ(6,"div",6),e._uU(7),e.TgZ(8,"span",7),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.YNc(10,f,2,0,"div",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("title",t.device.type),e.xp6(1),e.Q6J("src",t.getIcon(),e.LSH),e.xp6(3),e.Oqu(t.device.name),e.xp6(2),e.Oqu("Status: "),e.xp6(1),e.Q6J("ngClass",e.VKq(7,_,"available"===t.device.status)),e.xp6(1),e.Oqu(t.getStatus()),e.xp6(1),e.Q6J("ngIf",t.showInfo)}}let g=(()=>{class n{constructor(){this.showInfo=!0}ngOnInit(){}getIcon(){return u.getDeviceIcon(this.device.type)}getStatus(){return u.getDeviceStatus(this.device.status)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device-list-item"]],inputs:{device:"device",showInfo:"showInfo"},decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"icon",3,"title"],[3,"src"],[1,"main"],[1,"name"],[1,"status"],[3,"ngClass"],["class","info",4,"ngIf"],[1,"info"],["src","assets/icons/info.svg"]],template:function(t,c){1&t&&e.YNc(0,C,11,9,"div",0),2&t&&e.Q6J("ngIf",c.device)},directives:[p.O5,p.mk],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;background-color:#e9e9e9;border-radius:4px;padding:5px;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]:hover{background-color:#bebebe}.wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.wrapper[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{padding-left:20px;flex-grow:1}.wrapper[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:large}.wrapper[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:#999}.wrapper[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{color:#696969}.wrapper[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:10px}"]}),n})();const O=function(n){return["/devices",n]};function x(n,i){if(1&n&&e._UZ(0,"app-device-list-item",13),2&n){const t=i.$implicit;e.Q6J("showInfo",!1)("routerLink",e.VKq(3,O,t.id))("device",t)}}function M(n,i){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._uU(3,"Related Devices"),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,x,1,5,"app-device-list-item",5),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",3),e._uU(8),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e._uU(11),e.qZA(),e.TgZ(12,"div",9),e._uU(13),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e._uU(16,"Usage:"),e.qZA(),e._UZ(17,"img",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.related_devices),e.xp6(3),e.Oqu("Details: "+t.device.name),e.xp6(3),e.Oqu("Status: "+t.device.status),e.xp6(2),e.Oqu("Temperature: "+t.device.temperature)}}let w=(()=>{class n{constructor(t){this.route=t,this.related_devices=[],this.route.data.subscribe(c=>{this.device=c.device.device,this.related_devices=c.device.related_devices})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device-details"]],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"related-devices"],[1,"title"],[1,"devices"],[3,"showInfo","routerLink","device",4,"ngFor","ngForOf"],[1,"device-details"],[1,"content"],[1,"status"],[1,"temperature"],[1,"usage"],[1,"usage-title"],["src","assets/images/barchart.svg"],[3,"showInfo","routerLink","device"]],template:function(t,c){1&t&&e.YNc(0,M,18,4,"div",0),2&t&&e.Q6J("ngIf",c.device)},directives:[p.O5,p.sg,g,d.rH],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:10px;gap:10px}@media (min-width: 768px){.wrapper[_ngcontent-%COMP%]{flex-direction:row}}.wrapper[_ngcontent-%COMP%]   .related-devices[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.wrapper[_ngcontent-%COMP%]   .related-devices[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background-color:#d1d1d1;padding:10px;box-sizing:border-box;font-weight:bold;color:#202020;border-radius:4px}.wrapper[_ngcontent-%COMP%]   .related-devices[_ngcontent-%COMP%]   .devices[_ngcontent-%COMP%]   app-device-list-item[_ngcontent-%COMP%]{margin:10px auto;display:block;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .device-details[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #d1d1d1;border-radius:4px;width:100%}.wrapper[_ngcontent-%COMP%]   .device-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background-color:#d1d1d1;padding:10px;box-sizing:border-box;font-weight:bold;color:#202020}.wrapper[_ngcontent-%COMP%]   .device-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:20px}.wrapper[_ngcontent-%COMP%]   .device-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .usage[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.wrapper[_ngcontent-%COMP%]   .device-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .usage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:400px}"]}),n})();var P=o(215),Z=o(917),v=o(2),D=o(342),T=o(841);let m=(()=>{class n{constructor(t){this.http=t,this.devices=[]}getDeviceList(){return this.devices&&this.devices.length>0?(0,Z.of)(this.devices):this.http.get("/assets/data/devices.json").pipe((0,v.U)(t=>t.map(c=>this.mapDevice(c))),(0,D.b)(t=>this.devices=t))}getDevice(t){return this.getDeviceList().pipe((0,v.U)(c=>c.find(s=>s.id===t)))}getRelatedDevices(t){const c=[];return this.http.get("/assets/data/related-devices.json").pipe((0,v.U)(s=>{const r=s.find(a=>a.device_id===t);return r&&this.devices&&this.devices.length>0&&this.devices.filter(a=>r.related_devices.includes(a.id)).forEach(a=>c.push(a)),c}))}mapDevice(t){return{id:t.id,name:t.name,type:t.type,temperature:t.temperature,status:t.status}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h=(()=>{class n{constructor(t){this.deviceService=t,this.devices=[],this.searchUpdate=new P.X([]),this.deviceService.getDeviceList().subscribe(c=>{this.devices=c,this.searchUpdate.next(c)})}search(t){this.searchUpdate.next(t?this.devices.filter(c=>c.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())):this.devices)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I=function(n){return["/devices",n]};function b(n,i){if(1&n&&e._UZ(0,"app-device-list-item",1),2&n){const t=i.$implicit;e.Q6J("routerLink",e.VKq(2,I,t.id))("device",t)}}let y=(()=>{class n{constructor(t){this.searchService=t}ngOnInit(){this.devices$=this.searchService.searchUpdate}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device-list"]],decls:2,vars:3,consts:[[3,"routerLink","device",4,"ngFor","ngForOf"],[3,"routerLink","device"]],template:function(t,c){1&t&&(e.YNc(0,b,1,4,"app-device-list-item",0),e.ALo(1,"async")),2&t&&e.Q6J("ngForOf",e.lcZ(1,1,c.devices$))},directives:[p.sg,g,d.rH],pipes:[p.Ov],styles:["app-device-list-item[_ngcontent-%COMP%]{margin:10px auto;display:block;cursor:pointer}"]}),n})();const S=["input"];let L=(()=>{class n{constructor(){this.search=new e.vpe}ngOnInit(){}onInput(t){this.search.emit(t)}onCancel(){this.input.nativeElement.value="",this.onInput("")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(S,5),2&t){let s;e.iGM(s=e.CRH())&&(c.input=s.first)}},outputs:{search:"search"},decls:9,vars:0,consts:[[1,"wrapper"],[1,"icon"],["src","assets/icons/search.svg"],[1,"input"],["placeholder","Search","type","text","name","search","id","search",1,"form-control",3,"input"],["input",""],[1,"cancel"],[1,"btn","btn-secondary",3,"click"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"input",4,5),e.NdJ("input",function(r){return c.onInput(r.target.value)}),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"button",7),e.NdJ("click",function(){return c.onCancel()}),e._uU(8,"Cancel"),e.qZA(),e.qZA(),e.qZA())},styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:10px;grid-gap:10px;gap:10px;box-sizing:border-box;background-color:#d1d1d1;border-radius:4px;width:100%;margin:auto auto 20px}.wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:.5}.wrapper[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{flex-grow:1}"]}),n})(),A=(()=>{class n{constructor(t,c){this.searchService=t,this.router=c}ngOnInit(){}onSearch(t){"/devices"===this.router.url&&this.searchService.search(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"wrapper"],[3,"search"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"app-search",1),e.NdJ("search",function(r){return c.onSearch(r)}),e.qZA(),e._UZ(2,"router-outlet"),e.qZA())},directives:[L,d.lC],styles:[".wrapper[_ngcontent-%COMP%]{width:80%;margin:20px auto}.wrapper[_ngcontent-%COMP%]   app-device-list[_ngcontent-%COMP%]{width:80%;margin:10px auto}"]}),n})();var U=o(190);const q=[{path:"",component:A,children:[{path:"",component:y},{path:":id",component:w,resolve:{device:(()=>{class n{constructor(t){this.deviceService=t}resolve(t,c){let s;return this.deviceService.getDevice(t.params.id).pipe((0,U.w)(r=>(s=r,this.deviceService.getRelatedDevices(t.params.id))),(0,v.U)(r=>{const a=[];return r.forEach(k=>a.push(k)),{device:s,related_devices:a}}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]}];let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(q)],d.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,F]]}),n})()}}]);